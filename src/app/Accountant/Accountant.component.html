<div class="main-content">
  <div class="container-fluid">
    <div>
      <button
        type="button"
        data-toggle="modal"
        data-target="#exampleModalLong"
        class="btn btn-btn btn-info"
      >
        Add Accountant
      </button>
    </div>
    <div class="row">
      <div class="card-table">
        <div class="card-product">
          <table
            class="table table-responsive"
            class="table table-bordered table-sm table-striped m-10px"
          >
            <thead style="text-align: center">
              <tr>
                <th>No</th>
                <th>Accountant name</th>
                <th>phone No</th>
                <th>Email</th>
                <th>image</th>
                <th>password</th>
                <th>type</th>
                <th>Subcription id</th>
                <th>action</th>
              </tr>
            </thead>
            <tbody style="text-align: center">
              <tr
                *ngFor="
                  let row of Userdata
                    | paginate
                      : {
                          itemsPerPage: this.itemsPerPage,
                          currentPage: this.currentPage,
                          totalItems: this.totalItems
                        }
                "
              >
                <td>{{ row.id }}</td>
                <td>{{ row.name }}</td>
                <td>{{ row.phone }}</td>
                <td>{{ row.email }}</td>
                <td><img class="p-img" src="{{ row.photo }}" /></td>
                <td>{{ row.password }}</td>
                <td>{{ row.permissions }}</td>
                <td>{{ row.sub }}</td>

                <td>
                  <button
                    (click)="onedit(row)"
                    type="button"
                    id="edit-1"
                    data-toggle="modal"
                    data-target="#exampleModalLong"
                    class="btn btn-primary"
                  >
                    edit
                  </button>
                  <button
                    type="button"
                    (click)="ondeleteproduct(row)"
                    id="delete-1"
                    class="btn btn-danger mx-3"
                  >
                    delete
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
          <pagination-controls
            (pageChange)="changePage($event)"
          ></pagination-controls>

          <div
            class="modal fade"
            id="exampleModalLong"
            tabindex="-1"
            role="dialog"
            aria-labelledby="exampleModalLongTitle"
            aria-hidden="true"
          >
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header" style="left: 190px">
                  <h5 class="modal-title" id="exampleModalLongTitle">
                    Add user
                  </h5>
                  <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                    (click)="close()"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>

                <div class="modal-body">
                  <form [formGroup]="formvalue">
                    <div class="form-group">
                      <label for="exampleInputPassword1">phone</label>
                      <input
                        type="text"
                        formControlName="phone"
                        class="form-control"
                        id="exampleInputPassword1"
                        placeholder="Enter phone No"
                      />
                    </div>

                    <div class="form-group">
                      <label for="exampleInputEmail1">Email</label>
                      <input
                        type="text"
                        formControlName="email"
                        class="form-control"
                        id="exampleInputEmail1"
                        aria-describedby="emailHelp"
                        placeholder="Enter Email"
                      />
                    </div>

                    <div class="form-group">
                      <label for="exampleInputEmail1">user name</label>
                      <input
                        required
                        type="text"
                        formControlName="name"
                        class="form-control"
                        id="exampleInputEmail1"
                        aria-describedby="emailHelp"
                        placeholder="Enter User name"
                      />
                    </div>

                    <div class="form-group">
                      <label for="exampleInputEmail1">password</label>
                      <input
                        type="password"
                        formControlName="password"
                        class="form-control"
                        id="exampleInputpassword"
                        aria-describedby="emailHelp"
                        placeholder="Enter password"
                      />
                    </div>

                    <div class="form-group">
                      <select
                        formControlName="permissions"
                        (change)="selectChangeHandler($event)"
                      >
                        <option value="Account">account</option>
                        <option value="user">user</option>
                      </select>
                    </div>

                    <div class="form-group">
                      <label for="exampleInputEmail12">Select image</label>
                      <input
                        type="file"
                        class="form-control"
                        (change)="onselectfile($event)"
                        id="exampleInputEmail12"
                        formControlName="photo"
                        aria-describedby="emailHelp"
                        placeholder="select image"
                      />
                    </div>

                    <div class="form-group">
                      <input
                        type="password"
                        formControlName="sub"
                        class="form-control"
                        id="exampleInputpassword"
                        aria-describedby="emailHelp"
                        placeholder="Enter Subcription id"
                      />
                    </div>

                    <div class="modal-footer">
                      <div *ngIf="add">
                        <button
                          type="button"
                          data-dismiss="modal"                      
                          (click)="postuserdetails()"
                          id="btn1"
                          class="btn btn-success"
                        >
                          add
                        </button>
                      </div>
                      <div *ngIf="!add">
                        <button
                          type="button"
                          data-dismiss="modal"
                          (click)="updateUser()"
                          id="btn2"
                          class="btn btn-primary"
                        >
                          update
                        </button>
                      </div>
                      <button
                        type="button"
                        id="btn3"
                        class="btn btn-danger"
                        data-dismiss="modal"
                        (click)="close()"
                      >
                        Close
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
